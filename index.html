<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>2BOB Aviator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="app-shell">

    <!-- HEADER -->
    <header class="top-bar">
        <div class="logo">
            <span class="logo-main">2BOB</span>
            <span class="logo-sub">AVIATOR</span>
        </div>
        <div class="top-right">
            <div class="balance-box">
                <span>Balance</span>
                <strong id="balanceDisplay">KSh 0.00</strong>
            </div>
            <button class="btn small" id="depositBtn">DEPOSIT</button>
            <button class="btn small ghost" id="withdrawBtn">WITHDRAW</button>
            <div class="profile" id="profileArea">
                <span id="profilePhone">Not logged in</span>
                <button class="link" id="authBtn">Login / Signup</button>
            </div>
        </div>
    </header>

    <!-- MAIN LAYOUT -->
    <main class="main-layout">
        <!-- LEFT: GAME -->
        <section class="game-panel">
            <div class="game-header">
                <div class="multiplier-display" id="multiplierDisplay">1.00x</div>
                <div class="round-status" id="roundStatus">Next round in...</div>
            </div>

            <div class="graph-wrapper">
                <div class="graph-glow"></div>
                <canvas id="crashCanvas"></canvas>
            </div>

            <div class="bet-controls">
                <div class="bet-inputs">
                    <div class="field">
                        <label>Bet Amount (KSh)</label>
                        <input type="number" id="betAmount" value="50" min="1" />
                    </div>
                    <div class="field">
                        <label>Auto Cashout (x)</label>
                        <input type="number" id="autoCashout" placeholder="e.g. 2.00" step="0.01" />
                    </div>
                    <div class="field potential">
                        <label>Potential Payout</label>
                        <div id="potentialPayout">KSh 0.00</div>
                    </div>
                </div>
                <div class="bet-buttons">
                    <button class="btn big" id="betButton">PLACE BET</button>
                    <button class="btn big danger hidden" id="cashoutButton">CASHOUT</button>
                </div>
            </div>
        </section>

        <!-- RIGHT: SIDEBAR -->
        <aside class="side-panel">
            <div class="card">
                <h3>Recent Bets (Live Feed)</h3>
                <div id="liveBets" class="list"></div>
            </div>

            <div class="card">
                <h3>Your Bets</h3>
                <div id="betHistory" class="list"></div>
            </div>

            <div class="card">
                <h3>Round Info</h3>
                <div class="sys-line">
                    <span>Crash Point</span>
                    <strong id="crashPointDisplay">–</strong>
                </div>
                <div class="sys-line">
                    <span>Round</span>
                    <strong id="roundIdDisplay">#1</strong>
                </div>
            </div>
        </aside>
    </main>
</div>

<!-- AUTH MODAL -->
<div class="modal-backdrop hidden" id="authModal">
    <div class="modal" id="loginModalInner">
        <div class="modal-header">
            <h2>Login</h2>
        </div>
        <div class="modal-body">
            <div class="field">
                <label>Phone (M-Pesa)</label>
                <input type="tel" id="loginPhone" placeholder="07XXXXXXXX" />
            </div>
            <div class="field">
                <label>Password</label>
                <input type="password" id="loginPass" />
            </div>
            <div class="field checkbox">
                <input type="checkbox" id="rememberMe" />
                <label for="rememberMe">Remember me</label>
            </div>
            <button class="btn full" id="loginSubmit">LOGIN</button>
            <div class="auth-switch">
                <span>Don't have an account?</span>
                <button class="link" id="toSignup">Create Account</button>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="signupModalInner">
        <div class="modal-header">
            <h2>Create Account</h2>
        </div>
        <div class="modal-body">
            <div class="field">
                <label>Full Name</label>
                <input type="text" id="signupName" />
            </div>
            <div class="field">
                <label>Phone (M-Pesa)</label>
                <input type="tel" id="signupPhone" placeholder="07XXXXXXXX" />
            </div>
            <div class="field">
                <label>Password</label>
                <input type="password" id="signupPass" />
            </div>
            <button class="btn full" id="signupSubmit">CREATE ACCOUNT</button>
            <div class="auth-switch">
                <span>Already have an account?</span>
                <button class="link" id="toLogin">Back to Login</button>
            </div>
        </div>
    </div>
</div>

<!-- DEPOSIT MODAL -->
<div class="modal-backdrop hidden" id="depositModal">
    <div class="modal small">
        <div class="modal-header">
            <h2>Deposit via M-Pesa</h2>
        </div>
        <div class="modal-body">
            <div class="field">
                <label>Amount (KSh)</label>
                <input type="number" id="depositAmount" value="20" min="10" />
            </div>
            <div class="mpesa-hint">
                Confirm to simulate balance update. If STK doesn’t appear, use manual instructions next.
            </div>
            <button class="btn full" id="depositConfirm">CONFIRM</button>
            <button class="link full" id="depositCancel">Cancel</button>
        </div>
    </div>
</div>

<!-- MANUAL DEPOSIT INSTRUCTIONS MODAL -->
<div class="modal-backdrop hidden" id="depositHelpModal">
    <div class="modal small">
        <div class="modal-header">
            <h2>Manual Deposit Instructions</h2>
        </div>
        <div class="modal-body">
            <div class="manual-steps">
                <p><strong>1.</strong> Go to <strong>M-Pesa</strong> on your phone.</p>
                <p><strong>2.</strong> Select <strong>Lipa na M-Pesa</strong> → <strong>Buy Goods</strong>.</p>
                <p><strong>3.</strong> Enter <strong>Till No:</strong> 3596518.</p>
            
                <p><strong>4.</strong> Enter the amount you want to deposit.</p>
                <p><strong>5.</strong> Confirm and wait for SMS.</p>
            </div>
            <button class="btn full" id="depositHelpClose">DONE</button>
        </div>
    </div>
</div>

<!-- SIMPLE ADMIN MODAL (STATS ONLY) -->
<div class="modal-backdrop hidden" id="adminModal">
    <div class="modal small">
        <div class="modal-header">
            <h2>Admin Stats</h2>
        </div>
        <div class="modal-body">
            <div class="sys-line">
                <span>Total Rounds</span>
                <strong id="adminTotalRounds">0</strong>
            </div>
            <div class="sys-line">
                <span>Total Volume (KSh)</span>
                <strong id="adminTotalVolume">0.00</strong>
            </div>
            <button class="btn full" id="adminClose">Close</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
